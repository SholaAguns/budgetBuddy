{% extends 'base.html' %}
{% load django_bootstrap5 %}

{% block content %}
<div class="container budget_heading" >
        <h2>My Savings Trackers</h2>
</div>
<div id="budgetlist" class="container" align="center">
    {% for tracker in savings_tracker_list %}
    <div class="card mb-3">
        <div class="card-body">
            <h5 class="card-title">
                <a href="{% url 'budgets:savings_tracker_detail' pk=tracker.id %}" class="text-decoration-none">
                    {{ tracker.name }}
                </a>
            </h5>
            <div class="row">
                <div class="col-md-6">
                    <p class="card-text">
                        <strong>Current Balance:</strong> ${{ tracker.current_balance }}<br>
                        <strong>Projected Balance:</strong> ${{ tracker.final_projected_balance }}
                        {% if tracker.final_projected_date %}({{ tracker.final_projected_date }}){% endif %}
                    </p>
                </div>
                <div class="col-md-6 text-end">
                    <a href="{% url 'budgets:quick_update_savings' pk=tracker.id %}"
                       class="btn btn-primary btn-sm">
                        <i class="bi bi-pencil-square"></i> Quick Update
                    </a>
                    <a href="{% url 'budgets:savings_tracker_detail' pk=tracker.id %}"
                       class="btn btn-outline-secondary btn-sm">
                        <i class="bi bi-eye"></i> View Details
                    </a>
                </div>
            </div>
        </div>
    </div>
	{% endfor %}

    {% if user.is_authenticated %}
        <div id="budget_controls" class="container" align="center">
        <br><br>
        <a href="{% url 'budgets:add_savings_tracker' %}" role="button" class="btn btn-outline-secondary w-80">Create Tracker</a>
        </div><br><br>
    {% endif %}
</div>
{% endblock %}
